@model FamilyHealthApp.Models.Comment 

@{
    Layout = "~/Views/Shared/_LayoutLogin.cshtml";
    ViewData["Title"] = "Details";


}

<h2>Details</h2>

<div>
    <h4>Car</h4>
    <hr />
    <dl class="dl-horizontal">
        <dt>
            <p>Make</p>
        </dt>
        <dd>
             @ViewBag.Car.Make
        </dd>
        <dt>
            <p>Model</p>
        </dt>
        <dd>
            @ViewBag.Car.Model
        </dd>
    </dl>
</div>

<hr /> 

<strong>Comments:</strong>
@foreach (var comment in ViewBag.Comments) 
{
    if (comment.CarId == @ViewBag.Car.CarId) 
    {
        <p>
        @comment.Text
        </p> 
    }
}


    <form asp-action="Create" asp-controller="Comment">
        <input type="hidden" value="@ViewBag.Car.CarId" asp-for="CarId" />
        <div asp-validation-summary="ModelOnly" class="text-danger"></div>
        <div class="form-group">
            <textarea asp-for="Text" class="form-control" placeholder="Leave a Comment"></textarea>
            <span asp-validation-for="Text" class="text-danger"></span>
       </div>
       <div class="form-group">
           <input type="submit" value="Add Comment" class="btn btn-success" />
       </div>
    </form>

<hr />
<div>
    <a asp-action="Edit" asp-route-id="@ViewBag.Car.CarId">Edit</a> | 
    <a asp-action="Index">Back to List</a>
</div>
